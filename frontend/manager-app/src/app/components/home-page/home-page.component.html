<nz-layout style="min-height: 100%">
  <nz-header>
    <div class="brand">
      <img
        src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEg0lEQVR4nO1YXWgcVRTeNsasSdqY3b130lqpSLH+gajgDwj+UEQEEYQ++INPVR9URBH6JiIqIgoWn3xQoYQK9kGsWkuDpgXBSiPNz9wzydJSlCra+kMt+3PO7OyVM5uZ3Jmd3cxmN1HBA/uwe++595vvnPOds5PJ/G//YRO2HpaAT0jALzP/Bhubq14jFb4hAH+XQFoCffCPgdlW1ANC4U4BOLEIJvwIqD605oAKUL3KZ0fhuTggH5TCat7RG9YEzLW2vjhkR2E9CVD4UXho1QEJu7JNAr4pFJ5NBkFnhMKXBZC9FEZ6ZnXQaN0nlbtDAn0sFdYSGPGYOWYwM6X7R07oSyUgBeuWU7mip3jyTmmzANotgH5IzB3AXzi35ELlSt5vKbzOfwgHH1nKL5rpDRqt14fsALotwjUlHXpy62mdZZfRufLlQtF7EugF/i4U7TPAv9YVHmHrMZ8dRaeTkxj/5MstwOsDn5FZPbpYjRUJdILDmJnUF0nAPwzf27plh9qxs2lKD4Z+U7qff1sqAHQLgDfxkuW4dxls/cp3pMbTeFJ6TgKdbFHe55kdMYc3xB5kHSd43E8Avhoyr/BtYy2d2hccutm/UGG5HTvWtB6K+0qg26XCbxJ85oNc8/cpWkil9qOn9EiDdpptocoVCbQ3CEXc8k51eyPUicx6wqY7Ynvbq33IDmApudQJONlHZvVoEqBN87ogAfe0rMwGsHdNH6HoxbZqz5UjFTktqutgu0oRth5m5ZaAF2IgIm2HtS3OiFA4ubzac+Vwgiv8K5aoJb6Ye11kv9brBeDjUuHPCUJ6TAC+Y/5mOdUHmgrKYHdZtc8tlC7jHEpI2gUB7r28hyWDFTpxj8KdfotRdMZY2xu/J6b2s21BRUPk3ieBiubFueNUv+RQrZSfceMF8RvnH89X/qVA7xtr58aKWjSdb6i9VPh6piMLwgt4Ife9qzPj2v+s26f18Nc1vrTELSRX1BsDF8t274nmFz7cdG5P1J7DO1PaUpimTwJgmXGt+z/1Tg5O4I3mPlZ7U0yFogNJ51mOe/eK1T7JNn5L5b79dR/Y0IS7I74eUXGF57lZJ50jFL5l5OWHXYHyDwT8Ttikh76q6ezh2m5zbcMR9/7I7GXTU63OSa326YHReHigTc+GC5M627ffK2e/8JgBZusI98mW8/5yat8xMF9IKUjqPcHv/Qc8FeTewOdefbOK5l5Har8SkzY+anYE/6I5fCV70AuLYniy5jNmVmrkDMCjhto/3RNglqJbjRIvSsBdwffBw54e+GwxlA02jnP/7Ert09oWW+eMMNSiDRuPSpteinUCx6zMFat9GhNLf+HNBq2CqYObMY830eZd3e6vKfqoZ7N9ArBjMVZ+GlPlreYeqfAxc/RmEbVsuqUnap9GMiSP1PFxOgRXfXBxqAzAoSETZ7tW+1aSIfgi1az+phWA7mTwCVNI92qfKBkK6xyuNPsbk3H09cCqvMmx/Fyh5zvxyc9XrxZAP/ZU7ZtMryw3uED8HrkWb3I6NWtaSx5A0zr8DXhnyGAhtIY/AAAAAElFTkSuQmCC"
      />
      <span style="font-family: Dancing Script">SkySync</span>
    </div>
  </nz-header>
  <nz-content>
    <nz-space></nz-space>
    <main style="height: 100%">
      <div
        nz-flex
        [nzVertical]="true"
        nzJustify="center"
        nzAlign="center"
        style="min-height: 100%"
      >
        <form nz-form [formGroup]="flightSearchForm" class="flight-search">
          <div nz-row id="ticketInfo">
            <nz-form-item nz-col id="ticketType">
              <nz-form-control>
                <nz-select
                  formControlName="type"
                  [nzOptions]="ticketTypes"
                  nzBorderless
                  (ngModelChange)="onTypeChange($event)"
                  style="min-width: 108px"
                ></nz-select>
              </nz-form-control>
            </nz-form-item>
            <nz-form-item nz-col id="ticketClass">
              <nz-form-control>
                <nz-select
                  formControlName="class"
                  [nzOptions]="ticketClasses"
                  nzBorderless
                  style="min-width: 108px"
                ></nz-select>
              </nz-form-control>
            </nz-form-item>
          </div>
          <div nz-row nzGutter="8">
            <div nz-col nz-flex id="flightDestinations">
              <nz-form-item id="departureCity">
                <nz-form-control>
                  <nz-select
                    style="min-width: 150px"
                    nzShowSearch
                    nzServerSearch
                    nzSize="large"
                    nzPlaceHolder="Where from?"
                    formControlName="departure_airport"
                    [nzShowArrow]="false"
                    [nzFilterOption]="nzFilterOption"
                    (nzOnSearch)="searchAirport($event)"
                  >
                    <nz-option
                      *ngFor="let cityCountry of cityCountryList"
                      [nzLabel]="cityCountry.text"
                      [nzValue]="cityCountry.value"
                    ></nz-option>
                  </nz-select>
                </nz-form-control>
              </nz-form-item>
              <nz-form-item id="arrivalCity">
                <nz-form-control>
                  <nz-select
                    style="min-width: 150px"
                    nzAllowClear
                    nzShowSearch
                    nzServerSearch
                    nzSize="large"
                    nzPlaceHolder="Where to?"
                    formControlName="arrival_airport"
                    [nzShowArrow]="false"
                    [nzFilterOption]="nzFilterOption"
                    (nzOnSearch)="searchAirport($event)"
                  >
                    <nz-option
                      *ngFor="let cityCountry of cityCountryList"
                      [nzLabel]="cityCountry.text"
                      [nzValue]="cityCountry.value"
                    ></nz-option>
                  </nz-select>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nz-flex id="flightDates">
              <nz-form-item id="departure_date">
                <nz-form-control>
                  <nz-date-picker
                    nzSize="large"
                    [nzDisabledDate]="disabledStartDate"
                    nzFormat="d MMM, yyyy"
                    formControlName="departure_date"
                    nzPlaceHolder="Departure"
                    (nzOnOpenChange)="handleStartOpenChange($event)"
                  ></nz-date-picker>
                </nz-form-control>
              </nz-form-item>
              <nz-form-item
                *ngIf="this.flightSearchForm.controls['type'].value != 1"
                id="returnDate"
              >
                <nz-form-control>
                  <nz-date-picker
                    #endDatePicker
                    nzSize="large"
                    [nzDisabledDate]="disabledEndDate"
                    nzFormat="MMM D, yyyy"
                    formControlName="return_date"
                    nzPlaceHolder="Return"
                    (nzOnOpenChange)="handleEndOpenChange($event)"
                  ></nz-date-picker>
                </nz-form-control>
              </nz-form-item>
            </div>
            <!-- Maybe think of implementing dynamic forms for Multi-city -->
          </div>
          <div nz-row nzJustify="center" id="Search">
            <nz-form-item nz-col style="margin: 0%">
              <nz-form-control>
                <button
                  ngSkipHydration
                  nz-button
                  nzType="primary"
                  nzSize="large"
                  nzShape="round"
                  (click)="search()"
                >
                  <span nz-icon nzType="search" nzTheme="outline"></span>
                  Search
                </button>
              </nz-form-control>
            </nz-form-item>
          </div>
        </form>
        <nz-space></nz-space>
        <nz-divider nzText="Search Results" style="width: 90vw"></nz-divider>
        <app-flight-list #flightList></app-flight-list>
      </div>
    </main>
  </nz-content>
  <nz-footer> </nz-footer>
</nz-layout>
